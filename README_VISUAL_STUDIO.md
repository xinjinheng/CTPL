# Visual Studio环境下CTPL分布式线程池库使用指南

## 目录
- [1. 环境要求](#1-环境要求)
- [2. 安装依赖](#2-安装依赖)
- [3. 打开项目](#3-打开项目)
- [4. 编译和运行](#4-编译和运行)
- [5. 功能说明](#5-功能说明)

## 1. 环境要求

- **操作系统**: Windows 10/11
- **Visual Studio**: 2019或更高版本
- **C++标准**: C++17

## 2. 安装依赖

CTPL分布式线程池库不依赖任何第三方库，只需要Visual Studio自带的C++标准库即可。

## 3. 打开项目

1. 下载或克隆CTPL分布式线程池库到本地目录
2. 打开Visual Studio
3. 选择"文件" -> "打开" -> "项目/解决方案"
4. 导航到CTPL分布式线程池库目录
5. 选择"CTPL_Distributed.vcxproj"文件并点击"打开"

## 4. 编译和运行

1. 选择目标平台和配置：
   - 在Visual Studio工具栏上，选择"x86"或"x64"作为目标平台
   - 选择"Debug"或"Release"作为配置

2. 编译项目：
   - 点击"生成" -> "生成解决方案"
   - 或使用快捷键Ctrl+Shift+B

3. 运行项目：
   - 点击"调试" -> "开始执行(不调试)"
   - 或使用快捷键Ctrl+F5

## 5. 功能说明

CTPL分布式线程池扩展了原有CTPL的功能，主要包括:

1. **DAG任务调度**: 支持任务依赖关系和动态调整
2. **实时数据流处理**: 支持滑动窗口、滚动窗口等计算
3. **自适应资源调度**: 基于负载动态调整线程数量
4. **分布式任务容错**: 支持任务状态持久化和故障恢复
5. **多租户管理**: 支持资源隔离和配额管控

所有新功能都保持了与原有CTPL接口的兼容性，方便用户迁移。

## 6. 示例代码

示例程序展示了CTPL分布式线程池的各种功能，包括:

- DAG任务调度
- 实时数据流处理
- 自适应资源调度
- 多租户管理
- 容错机制

示例程序位于"example_distributed.cpp"文件中。

## 7. 代码结构

CTPL分布式线程池库的代码结构如下:

- `ctpl.h`: 原有CTPL线程池库
- `ctpl_stl.h`: 基于STL的CTPL线程池库
- `ctpl_distributed.h`: 分布式线程池扩展
- `example.cpp`: 原有CTPL示例程序
- `example_distributed.cpp`: 分布式线程池示例程序
- `CTPL_Distributed.vcxproj`: Visual Studio项目文件
- `pch.h/pch.cpp`: 预编译头文件

## 8. 技术支持

如果您在使用过程中遇到任何问题，可以:

- 查看项目文档
- 查看示例代码
- 检查Visual Studio配置
- 确保使用C++17标准
